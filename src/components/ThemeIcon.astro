---
---

<button id="themeToggle">
    <svg width="30px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
        <path class="sun" fill-rule="evenodd" d="M14.1213 0.0471006C14.3166 0.129132 14.4573 0.304913 14.4963 0.511944L15.2737 4.72679L19.4885 5.50023C19.6955 5.53929 19.8713 5.67991 19.9534 5.87523C20.0354 6.07054 20.0119 6.29319 19.8909 6.46898L17.4573 10.0002L19.8909 13.5276C20.0119 13.7034 20.0354 13.926 19.9534 14.1213C19.8713 14.3166 19.6955 14.4573 19.4885 14.4963L15.2737 15.2737L14.4963 19.4885C14.4573 19.6955 14.3166 19.8713 14.1213 19.9534C13.926 20.0354 13.7034 20.0119 13.5276 19.8909L10.0002 17.4573L6.47288 19.8909C6.2971 20.0119 6.07444 20.0354 5.87913 19.9534C5.68382 19.8713 5.54319 19.6955 5.50413 19.4885L4.72679 15.2737L0.511944 14.4963C0.304913 14.4573 0.129132 14.3166 0.0471006 14.1213C-0.0349307 13.926 -0.0114932 13.7034 0.109601 13.5276L2.54319 10.0002L0.109601 6.47288C-0.0114932 6.2971 -0.0349307 6.07444 0.0471006 5.87913C0.129132 5.68382 0.304913 5.54319 0.511944 5.50413L4.72679 4.72679L5.50413 0.511944C5.54319 0.304913 5.68382 0.129132 5.87913 0.0471006C6.07444 -0.0349307 6.2971 -0.0114932 6.47288 0.109601L10.0002 2.54319L13.5276 0.109601C13.7034 -0.0114932 13.926 -0.0349307 14.1213 0.0471006ZM6.25023 10.0002C6.25023 9.00566 6.64531 8.05184 7.34858 7.34858C8.05184 6.64531 9.00566 6.25023 10.0002 6.25023C10.9948 6.25023 11.9486 6.64531 12.6519 7.34858C13.3551 8.05184 13.7502 9.00566 13.7502 10.0002C13.7502 10.9948 13.3551 11.9486 12.6519 12.6519C11.9486 13.3551 10.9948 13.7502 10.0002 13.7502C9.00566 13.7502 8.05184 13.3551 7.34858 12.6519C6.64531 11.9486 6.25023 10.9948 6.25023 10.0002ZM15.0002 10.0002C15.0002 8.67414 14.4734 7.40237 13.5358 6.46469C12.5981 5.52701 11.3263 5.00023 10.0002 5.00023C8.67414 5.00023 7.40237 5.52701 6.46469 6.46469C5.52701 7.40237 5.00023 8.67414 5.00023 10.0002C5.00023 11.3263 5.52701 12.5981 6.46469 13.5358C7.40237 14.4734 8.67414 15.0002 10.0002 15.0002C11.3263 15.0002 12.5981 14.4734 13.5358 13.5358C14.4734 12.5981 15.0002 11.3263 15.0002 10.0002Z" />
        <path class="moon" fill-rule="evenodd" d="M9.97768 0C4.46429 0 0 4.47768 0 10C0 15.5223 4.46429 20 9.97768 20C12.683 20 15.1339 18.9196 16.933 17.1696C17.1562 16.9509 17.2143 16.6116 17.0714 16.3348C16.9286 16.058 16.6205 15.9018 16.3125 15.9554C15.875 16.0312 15.4286 16.0714 14.9688 16.0714C10.6429 16.0714 7.13393 12.5536 7.13393 8.21429C7.13393 5.27679 8.74107 2.71875 11.1205 1.37054C11.3929 1.21429 11.5312 0.901786 11.4643 0.598214C11.3973 0.294643 11.1384 0.0669644 10.8259 0.0401786C10.5446 0.0178572 10.2634 0.00446422 9.97768 0.00446422V0Z" />
    </svg>
</button>

<style>
    #themeToggle {
        border: 0;
        background: none;
        cursor: pointer;
    }

    .sun { fill: transparent }
    .moon { fill: var(--primary-color)); }

    :global(.dark) .sun { fill: var(--primary-color); }
    :global(.dark) .moon { fill: transparent; }
</style>

<script is:inline>
    const theme = (() => {
        if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')){
            return localStorage.getItem('theme');
        }
        if (window.matchMedia('(prefers-color-scheme: dark)').matches){
            return 'dark';
        }
        return 'light';
    })();

    if (theme == 'light'){
        document.documentElement.classList.remove('dark');
    }
    else {
        document.documentElement.classList.add('dark');
    }

    window.localStorage.setItem('theme', theme);

    const handleToggleClick = () => {
        const element = document.documentElement;
        element.classList.toggle('dark');

        const isDark = element.classList.contains('dark');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
    }

    document.getElementById("themeToggle").addEventListener("click", handleToggleClick);
</script>