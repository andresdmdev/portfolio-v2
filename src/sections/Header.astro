---
import Hamburger from "../components/Hamburger.astro";
import Navigation from "../components/Navigation.astro";
import ThemeIcon from "../components/ThemeIcon.astro";
import { getLangFromUrl, changeLanguage, formattedLanguage } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const langFormatted = formattedLanguage(lang);
const urlLanguage = changeLanguage(lang);
---

<header>
    <a href={`/${urlLanguage}`} aria-label="Change language">{langFormatted}</a>
    <nav>
        <Navigation />
        <ThemeIcon />
        <Hamburger />
    </nav>
</header>

<style>
    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    header > a {
        font-size: 14px;
        font-weight: bolder;
        letter-spacing: 1px;
        background-color: var(--secondary-bg-color);
        color: var(--secondary-color);
        border-radius: 5px;
        padding: 4px 7px;
        cursor: pointer;
        transition: all 300ms ease-in-out;
        text-decoration: none;
    }
    header > a:hover {
        background-color: var(--secondary-bg-color-hover);
        transform: scale(1.2);
    }
    :global(.dark) header > a {
        background-color: var(--dark-secondary-bg-color);
        color: var(--dark-secondary-color);
    }
    :global(.dark) header > a:hover {
        background-color: var(--dark-secondary-bg-color-hover);
    }
    nav {
        display: flex;
        justify-content: right;
        align-items: center;
        gap: 32px;
    }
</style>