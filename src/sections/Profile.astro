---
import { getLangFromUrl, getTranslation } from "../i18n/utils";
import OpenCV from "../components/OpenCV.astro";
import Email from "../components/Email.astro";

const lang = getLangFromUrl(Astro.url);
const t = getTranslation(lang);
---
<section id="/" class="profile">
    <div class="profile-img-section">
        <div>
            <img class="img-profile" src="./images/profile.png" alt="profile" sizes="(max-width: 635px) 50px, (min-width: 636px) 100px" />
        </div>
        <div class="profile-tag">
            <span>{t("profile.tag")}</span>
        </div>
    </div>
    <h1>{t("profile.gretting")}</h1>
    <div class="profile-description-section">
        <span class="first">{t("profile.description-1")}</span>
        <span class="second">{t("profile.description-2")}</span>
        <span class="third">{t("profile.description-3")}</span>
    </div>
    <div class="profile-contact-container">
        <div class="profile-social-section">
            <a class="icon-container" href={t("profile.icon.linkedin") as string} target="_blank" >
                <box-icon type='logo' name='linkedin' animation='flashing-hover' class="icon"></box-icon>
            </a>
            <a class="icon-container" href={t("profile.icon.github") as string} target="_blank" >
                <box-icon name='github' type='logo' animation='flashing-hover' class="icon" ></box-icon>
            </a>
        </div>
        <div class="profile-contact-section">
            <OpenCV text={t("profile.cv") as string} />
            <Email text={t("profile.email") as string} />
        </div>
    </div>
</section>

<style>
    .profile {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 40px;
    }

    .profile-img-section {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
    }

    .img-profile {
        width: 70px;
        object-fit: cover;
    }

    h1 {
        margin: 17px 0 0 0;
        font-size: 32px;
        color: var(--secondary-color);
    }

    :global(.dark) h1 {
        color: var(--white-color);
    }

    .profile-description-section {
        font-size: 18px;
        font-weight: 500;
        margin-top: 13px;
        line-height: 26px;
    }

    .profile-description-section .first {
        color: var(--secondary-color);
    }

    :global(.dark) .profile-description-section .first {
        color: var(--primary-color);
    }

    .profile-description-section .second {
        color: var(--white-color);
    }

    :global(.dark) .profile-description-section .second {
        color: var(--white-color);
    }

    .profile-description-section .third {
        color: var(--ternary-color);
    }

    :global(.dark) .profile-description-section .third {
        color: var(--dark-gold-color);
    }

    .profile-contact-section {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        margin-top: 24px;
        gap: 7px;
    }

    .profile-social-section {
        display: flex;
        flex-direction: row;
        gap: 20px;
        align-items: center;
        justify-content: center;
        margin-top: 20px;
    }

    .icon-container {
        width: 45px;
        cursor: pointer;
        transition: color 600ms ease-in-out;
    }

    .icon-container :hover {
        cursor: pointer;
        opacity: 0.8;
    }

    .icon {
        fill: var(--secondary-color);
        width: 100%;
        height: 100%;
    }

    :global(.dark) .icon {
        fill: var(--dark-secondary-color);
    }

    .profile-tag {
        background-color: var(--secondary-bg-color);
        padding: 6px 8px;
        border-radius: 6px;
        display: flex;
        align-content: center;
    }

    .profile-tag span {
        color: var(--secondary-color);
        font-size: 12px;
        font-weight: 800;
        line-height: 12px;
    }

    :global(.dark) .profile-tag {
        background-color: var(--dark-secondary-bg-color);
    }

    :global(.dark) .profile-tag span {
        color: var(--dark-secondary-color);
    }

    @media screen and (min-width: 636px) {
        .profile {
            margin-top: 132px;
        }
        
        h1 {
            font-size: 48px;
        }

        .profile-description-section {
            font-size: 22px;
            margin-top: 20px;
            line-height: 32px;
        }

        .profile-contact-container{
            display: flex;
            flex-direction: row;
            gap: 20px;
        }
        
        .profile-contact-section {
            margin-top: 24px;
            gap: 30px;
        }    
    }

    @media screen and (max-width: 375px) {
        .profile-contact-section {
            gap: 25px;
            flex-direction: column;
        }
    }
</style>